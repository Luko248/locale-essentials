"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.localize=void 0;const localize=(e,t)=>{const a=()=>{let t=localStorage.getItem("language")||navigator.language||navigator.userLanguage;document.documentElement.lang=t;const a=new URLSearchParams(window.location.search).get("lang");a&&(t=a,localStorage.setItem("language",a));const n=new XMLHttpRequest;n.open("GET",`${e}${t}.json`),n.onload=()=>{if(200===n.status){const e=JSON.parse(n.responseText);o(e)}else{const t=new XMLHttpRequest;t.open("GET",`${e}en.json`),t.onload=()=>{if(200===t.status){const e=JSON.parse(t.responseText);o(e)}},t.send()}},n.send()},o=e=>{document.querySelectorAll("[data-localize]").forEach((t=>{const a=t.getAttribute("data-localize");a&&e[a]&&(t.textContent=e[a])}))};a(),(e=>{e&&e.addEventListener("click",(e=>{if(e.target&&e.target.matches("button[data-lang]")){const t=e.target.getAttribute("data-lang");t&&(e=>{localStorage.setItem("language",e);const t=new URLSearchParams(window.location.search);t.set("lang",e),window.history.replaceState({},"",`${window.location.pathname}?${t}`),document.documentElement.lang=e,a()})(t)}}))})(t)};exports.localize=localize;