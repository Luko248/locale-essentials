"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.localize=void 0;var localize=function(e,t){var a=function(){var t=localStorage.getItem("language")||navigator.language||navigator.userLanguage;document.documentElement.lang=t;var a=new URLSearchParams(window.location.search).get("lang");a&&(t=a,localStorage.setItem("language",a));var o=new XMLHttpRequest;o.open("GET","".concat(e).concat(t,".json")),o.onload=function(){if(200===o.status){var t=JSON.parse(o.responseText);n(t)}else{var a=new XMLHttpRequest;a.open("GET","".concat(e,"en.json")),a.onload=function(){if(200===a.status){var e=JSON.parse(a.responseText);n(e)}},a.send()}},o.send()},n=function(e){document.querySelectorAll("[data-localize]").forEach((function(t){var a=t.getAttribute("data-localize");a&&e[a]&&(t.textContent=e[a])}))};a(),function(e){e&&e.addEventListener("click",(function(e){if(e.target&&e.target.matches("button[data-lang]")){var t=e.target.getAttribute("data-lang");t&&function(e){localStorage.setItem("language",e);var t=new URLSearchParams(window.location.search);t.set("lang",e),window.history.replaceState({},"","".concat(window.location.pathname,"?").concat(t)),document.documentElement.lang=e,a()}(t)}}))}(t)};exports.localize=localize;